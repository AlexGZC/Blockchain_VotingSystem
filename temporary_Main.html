<!DOCTYPE html>
<html>

<head>
    <link href='https://fonts.googleapis.com/css?family=Raleway:700' rel='stylesheet' type='text/css'>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
	<script type="text/javascript" src="/home/ssong/bookblock/browser-solidity-gh-pages/js/bignumber.min.js"></script>
	<script type="text/javascript" src="/home/ssong/bookblock/browser-solidity-gh-pages/js/crypto-js.js"></script>
	<script type="text/javascript" src="/home/ssong/bookblock/browser-solidity-gh-pages/js/utf8.js"></script>   
	<script type="text/javascript" src="/home/ssong/bookblock/browser-solidity-gh-pages/js/web3.min.js"></script>
    <script>
   
      //  var user_name = "0x25bfa5c5c3ea5a6d23c5aa89f4dedd5c442a3824";
      //  var password = "testuser2";
         var url = "http://127.0.0.1:8545"
                
            function login(user_name, password) {

                alert("hihi");
                var JSONdata = createJSONdata("personal_unlockAccount", [user_name, password, 30]);
                executeJsonRpc(url, JSONdata, function success(data) {
                    if (data.error == null) {
                        alert("success");
                        console.log("login success!");
                        location.href='./Pre-condition.html';
                        
                    }
                    else {
                        alert("error");
                        console.log("login error");
                    }
    
                    init();
                }, function error(data) {
                    console.log("login error");
                });
    
            }
                function createJSONdata(method, params) {
            var JSONdata = {
                "jsonrpc": "2.0",
                "method": method,
                "params": params
            };
            return JSONdata;
        }
        function executeJsonRpc(url_exec, JSONdata, success, error) {
            $.ajax({
                type: 'post',
                url: url_exec,
                data: JSON.stringify(JSONdata),
                contentType: 'application/JSON',
                dataType: 'JSON',
                scriptCharset: 'utf-8',
                success: function(data) {
                    success(data);
                },
                error: function(data) {
                    error(data);
                }
            });
        }
        
        function checkLogin(){
        alert("ddd");
            var getId = document.getElementById("userID").value; 
            var getPwd = document.getElementById("userPassword").value; 
      
            login(getId, getPwd);
        }
        
    </script>
    <style>
        body,
        html {
            height: 100%;
            font-size: 30px;
            font-family: "raleway";
            margin: 0;
        }
        
        .hero-image {
            background-image: url("images/block2.jpg");
            height: 100%;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            position: relative;
        }
        
        .hero-text {
            text-align: center;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: black;
        }
        
        .label,
        input,
        button {
            font-size: 30px;
        }
    </style>
</head>
<body>

    <div class="hero-image">
        <div class="hero-text">
            <h1 style="font-size:150px">B Vote</h1>

            <div class="container">
                <center>
                    <label for="text">USER ID</label>
                    <input type="text" placeholder="Enter ID" id="userID" required><br>

                    <label><b>PASSWORD</b></label>
                    <input type="password" placeholder="Enter Password" id="userPassword" required><br>
                    <input type="checkbox" checked="checked"> Remember me</input>
                      <input type="button" value="Log in" onclick="checkLogin();" />
                    <br><br>
                    <span class="psw">Forgot <a href="#">password?</a></span><br>
                    <a href="./signUp.html"> If you don`t have an account...<a></p>
                   
                </center>
            </div>

    </div>
</body>

</html>